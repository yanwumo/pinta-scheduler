apiVersion: pinta.qed.usc.edu/v1
kind: PintaJob
metadata:
  name: example-pintajob
spec:
  type: ps-worker  # ps-worker, mpi, symmetric, image-builder
  volumes:
    - volumeClaimName: mnist
      mountPath: /data
  master:
    metadata:
      annotations:
        pinta.qed.usc.edu/speedup: "1"
    spec:
      containers:
        - name: test
          image: ubuntu:latest
          workingDir: /
          command:
            - sh
            - -c
            - |
              echo 'This is PS';
              sleep 120;
          resources:
            requests:
              cpu: "8"
      restartPolicy: OnFailure
  replica:
    metadata:
      annotations:
        pinta.qed.usc.edu/speedup: "1.028695301,1.839589726,2.516247924,3.202671637,3.390178038,3.76465051,3.513700704,3.805721944,3.752839389,3.701449107"
    spec:
      containers:
        - name: test
          image: ubuntu:latest
          workingDir: /
          command:
            - sh
            - -c
            - |
              echo 'This is worker';
              sleep 60;
          resources:
            requests:
              cpu: "8"
      restartPolicy: OnFailure
#  numMasters: 1
#  numReplicas: 1
